<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Leaflet and Bootstrap map">
    <meta name="author" content="Wandering Soul">
    <title>BootLeaf</title>

    <link rel="stylesheet" href="libs/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="libs/leaflet/dist/leaflet.css">
    <!--
    <link rel="stylesheet" href="libs/webfonts/css/font-awesome.css">
    -->
    <link rel="stylesheet" href="libs/webfonts/css/boxicons.css">
    <link rel="stylesheet" href="libs/Leaflet-ExtraMarkers/css/leaflet.extra-markers.min.css">
    <!-- FIXME:  Let's get an SVG icon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style> 
      html { height: 100%; }
      body { height: 100%; }
      main { height: 100%; }
      #map { 
        height: 100%; 
        padding: 0px 0px 0px 0px; 
      }
    </style>
  </head>

  <body>
    <nav class="navbar fixed-top navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
      <div class="container-fluid">
        <span class="navbar-brand" 
           href="#"
           id="navbar_logo">Navbar
        </span>
        <button class="navbar-toggler" 
                type="button" 
                data-bs-toggle="collapse" 
                data-bs-target="#navbarSupportedContent" 
                aria-controls="navbarSupportedContent" 
                aria-expanded="false" 
                aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item dropdown">
              <span class="nav-link dropdown-toggle"
                 href="#" role="button"
                 data-bs-toggle="dropdown">Links
              </span>
              <ul class="dropdown-menu" id='links_dropdown'>
                <!-- Links get filled in when we parse the config file -->
              </ul>
            </li>
            <li class="nav-item dropdown">
              <span class="nav-link dropdown-toggle" 
                 href="#" 
                 role="button" 
                 data-bs-toggle="dropdown" 
                 aria-expanded="false"> Info 
              </span>
              <ul class="dropdown-menu">
                <li>
                  <span class="dropdown-item" 
                        id="item1">
                    Getting Around
                  </span>
                </li>
                <li>
                  <span class="dropdown-item" 
                        id="item2">
                    Actualizar Esto
                  </span>
                </li>
                <li>
                  <span class="dropdown-item" 
                        id="item3">
                    Cosas no Puedo Creer
                  </span>
                </li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li>
                  <span class="dropdown-item" 
                     id="item3" >
                       Something else here
                  </span>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <span class="nav-link" id="about">About</span>
            </li>
          </ul>
          <!-- ROADMAP: Maybe a microphone icon so we can voice search -->
          <!--          So... find a good SVG for a microphone         -->
          <form class="d-flex" role="search">
            <input class="form-control me-2" 
                   type="search" 
                   placeholder="Search" 
                   name="searchbox" 
                   aria-label="Search"/>
            <button class="btn btn-outline-success" 
                    id="searchbutton"
                    type="submit">Search
            </button>
          </form>
        </div>
      </div>
    </nav>

    <!-- FIXME:  Figure out why we need this fixed padding.
                 Everything should flow correctly -->
    <main class="flex" style="margin: none; padding: 70px 0px 0px 0px !important; height: 100%;">
      <div class="col-12" id="map">
      </div>
    </main>

    <!-- modal_1, diplayed when you click "Getting Around" -->
    <div class="modal modal-lg fade" 
         data-bs-theme="dark"
         id="modal_1" 
         tabindex="-1" 
         aria-labelledby="exampleModalLabel" 
         aria-modal="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Getting Around Asuncion
            </h5>
            <button type="button" 
                    class="btn-close" 
                    data-bs-dismiss="modal" 
                    aria-label="Close">
            </button>
          </div>
          <div class="modal-body">
            <h3>Ride Hailing</h3>
            The best app for Asuncion is <a href="https://play.google.com/store/apps/details?id=ee.mtakso.client">Bolt</a>.  They have more cars, and prices are lower than Uber.  There are some claims that their driver screening isn't as rigouros as Uber, but those claims are probably from Uber.  A ride to the airport 40,000-50,000 ₲, and the terminal is about 25,000₲

            <h3>Busses</h3>
            Busses in town go everywhere  They don't take cash or debit.  Buy a Jaha bus card and charge it at any <b>Aqui Pago</b> or <b>Pago Express</b>. Try the farmacy on the corner (to the left when you leave the hostel). The bus in town costs 3400 ₲. There are actually two types of bus card (the other is Mas+), but Mas can pretty much only be used in Asuncion, but Jaha can be used in other towns (like Encarnacion and CDE). 
            <h4>Bus Routes</h4>
            Busses are weird here.  Google has bus stops marked, but unless you actually see a bus stop nearby (with roof, seats, etc), just flag the bus down.  Don't wear a baseball cap (even in the 40%deg; sun) or they might not stop for you (it's a security thing).  But be careful.  There are weird routes, like 12-1 and 12-2.  But the bus just says "12" on it.  One goes where you want to go, the other doesn't.  Which is which?  Nobody knows.  And while I've listed some busses like the 2y7 (which means line 2 and/or line 7), there are other busses that'll get you to the same locations and might run more frequently.  Use your favorite transit app or Google Maps to get updated information.
            <br/><hr/>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope=col>From Hostel Patagonia to:</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Mercado 4</td><td>Route XX</td></tr>
                <tr><td>Shopping delSol</td><td>Route 30</td></tr>
                <tr><td>Shopping Mariscal</td><td>Route 15</td></tr>
                <tr><td>Bus Terminal</td><td>Route XX</td></tr>
                <tr><td>Airport</td><td>Route 30</td></tr>
                <tr><td>Cerro Lambare</td><td>Route 23</td></tr>
                <tr><td>Botanico</td><td>Route 23</td></tr>
              </tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" 
                    class="btn btn-secondary" 
                    aria-label="close"
                    data-bs-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- modal_2, diplayed when you click "Actualizar" -->
    <div class="modal modal-lg fade" 
         data-bs-theme="dark"
         id="modal_2" 
         tabindex="-1" 
         aria-labelledby="exampleModalLabel" 
         aria-modal="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Getting Around Asuncion
            </h5>
            <button type="button" 
                    class="btn-close" 
                    data-bs-dismiss="modal" 
                    aria-label="Close">
            </button>
          </div>
          <div class="modal-body">
            <h3>Actualizar Esto</h3>
            Abra un "Issue" en la pagina de GitHub.  Pero mucho mas facil hablar con el tipo en el Box sin numero en Habitacion 1 de Hostal Patagonia.  Qualquier cosa que quieres hacer por web, hable con el vikingo.  Capaz no sabe como hacerlo, pero el siempre quiere aprender, y queda aburrido.
          </div>
          <div class="modal-footer">
            <button type="button" 
                    class="btn btn-secondary" 
                    aria-label="close"
                    data-bs-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="libs/bootstrap/bootstrap.bundle.min.js"></script>
    <!--
    <script src="./libs/leaflet-sidebar-v2/js/leaflet-sidebar.js"></script>
      Need leaflet plugins:
          leaflet-sidebar (or something similar)
          leaflet-markercluster
          leaflet.Photo (looks hinky... maybe a re-write)
          a better layer control.  Groups? Dropdowns?
    -->
    <script type='importmap'>
    {
      "imports": {
        "leaflet": "./js/leaflet.js"
      }
    }
    </script>
    <script src="./libs/json5/json5.min.js"></script>
    <script type="module" src="panicle.js"></script>
  </body>
</html>
